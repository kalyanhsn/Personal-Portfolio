<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Portfolio</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Netflix Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            background-color: #141414;
            color: #fff;
            overflow-x: hidden;
            font-weight: 400;
            letter-spacing: 0.2px;
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 20px 50px;
            background: linear-gradient(180deg, rgba(0,0,0,0.7) 10%, transparent);
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            transition: background-color 0.3s;
        }

        nav.scrolled {
            background-color: #141414;
        }

        .logo {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 45px;
            font-weight: 700;
            color: #e50914;
            letter-spacing: 3px;
        }

        .nav-links {
            display: flex;
            gap: 30px;
        }

        .nav-links a {
            color: #e5e5e5;
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            transition: color 0.3s;
            cursor: pointer;
        }

        .nav-links a:hover {
            color: #b3b3b3;
        }

        /* Hero Section */
        .hero {
            height: 80vh;
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 0 50px;
            margin-top: 70px;
            overflow: hidden;
        }

        .hero-canvas {
            position: absolute;
            inset: 0;
            z-index: 0;
            width: 100%;
            height: 100%;
        }

        .hero-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.8));
            z-index: 1;
        }

        .hero-content {
            position: relative;
            z-index: 2;
        }

        .hero h1 {
            font-size: 50px;
            margin-bottom: 20px;
            max-width: 600px;
            font-weight: 700;
            line-height: 1.1;
        }

        .hero p {
            font-size: 18px;
            margin-bottom: 30px;
            max-width: 500px;
            line-height: 1.4;
            font-weight: 400;
        }

        .hero-buttons {
            display: flex;
            gap: 15px;
        }

        .btn {
            padding: 12px 30px;
            font-size: 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }

        .btn-primary {
            background-color: #fff;
            color: #000;
        }

        .btn-primary:hover {
            background-color: rgba(255,255,255,0.75);
        }

        .btn-secondary {
            background-color: rgba(109,109,110,0.7);
            color: #fff;
        }

        .btn-secondary:hover {
            background-color: rgba(109,109,110,0.4);
        }

        /* Content Sections */
        .content-section {
            padding: 40px 50px;
            display: none;
        }

        .content-section.active {
            display: block;
        }

        .section-title {
            font-size: 28px;
            margin-bottom: 30px;
            font-weight: bold;
        }

        /* Row of Cards */
        .row {
            margin-bottom: 50px;
        }

        .row h2 {
            font-size: 20px;
            margin-bottom: 15px;
        }

        .cards-container {
            display: flex;
            gap: 10px;
            overflow-x: auto;
            padding-bottom: 10px;
            scrollbar-width: thin;
            scrollbar-color: #555 #141414;
        }

        .cards-container::-webkit-scrollbar {
            height: 8px;
        }

        .cards-container::-webkit-scrollbar-track {
            background: #141414;
        }

        .cards-container::-webkit-scrollbar-thumb {
            background: #555;
            border-radius: 10px;
        }

        .card {
            min-width: 280px;
            height: 160px;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            border-radius: 6px;
            padding: 20px;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            position: relative;
            overflow: hidden;
        }

        .card:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(0,0,0,0.6);
        }

        .card h3 {
            font-size: 18px;
            margin-bottom: 10px;
            color: #fff;
        }

        .card p {
            font-size: 14px;
            color: #b3b3b3;
            line-height: 1.4;
        }

        .card-accent {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 40px;
            height: 40px;
            background-color: #e50914;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        /* Resume Section */
        .resume-content {
            max-width: 1000px;
            background: #1a1a1a;
            padding: 40px;
            border-radius: 8px;
            margin-bottom: 30px;
        }

        .resume-section {
            margin-bottom: 30px;
        }

        .resume-section h3 {
            font-size: 22px;
            margin-bottom: 15px;
            color: #e50914;
        }

        .resume-item {
            margin-bottom: 20px;
        }

        .resume-item h4 {
            font-size: 18px;
            margin-bottom: 5px;
        }

        .resume-item p {
            color: #b3b3b3;
            line-height: 1.6;
        }

        /* Contact Form */
        .contact-form {
            max-width: 600px;
            background: #1a1a1a;
            padding: 40px;
            border-radius: 8px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            background: #333;
            border: 1px solid #555;
            border-radius: 4px;
            color: #fff;
            font-size: 14px;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 120px;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #e50914;
        }

        /* Chatbot */
        .chatbot-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: #e50914;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(229, 9, 20, 0.4);
            z-index: 1001;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .chatbot-button:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(229, 9, 20, 0.6);
        }

        .chatbot-container {
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 400px;
            height: 600px;
            background: #181818;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.8);
            z-index: 1000;
            display: none;
            flex-direction: column;
            overflow: hidden;
        }

        .chatbot-container.active {
            display: flex;
        }

        .chatbot-header {
            background: #e50914;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
        }

        .chatbot-canvas {
            position: absolute;
            inset: 0;
            z-index: 0;
        }

        .chatbot-header-content {
            position: relative;
            z-index: 1;
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
        }

        .chatbot-title {
            font-size: 18px;
            font-weight: 700;
        }

        .chatbot-close {
            background: none;
            border: none;
            color: #fff;
            font-size: 24px;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .chatbot-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .chatbot-messages::-webkit-scrollbar {
            width: 6px;
        }

        .chatbot-messages::-webkit-scrollbar-track {
            background: #141414;
        }

        .chatbot-messages::-webkit-scrollbar-thumb {
            background: #555;
            border-radius: 3px;
        }

        .message {
            display: flex;
            gap: 10px;
            animation: messageSlide 0.3s ease-out;
        }

        @keyframes messageSlide {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message.bot {
            justify-content: flex-start;
        }

        .message.user {
            justify-content: flex-end;
        }

        .message-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: #e50914;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            flex-shrink: 0;
        }

        .message-content {
            max-width: 70%;
            padding: 12px 16px;
            border-radius: 16px;
            line-height: 1.4;
            font-size: 14px;
        }

        .message.bot .message-content {
            background: #2a2a2a;
        }

        .message.user .message-content {
            background: #e50914;
        }

        .chatbot-input-container {
            padding: 20px;
            border-top: 1px solid #2a2a2a;
            display: flex;
            gap: 10px;
        }

        .chatbot-input {
            flex: 1;
            padding: 12px;
            background: #2a2a2a;
            border: 1px solid #3a3a3a;
            border-radius: 20px;
            color: #fff;
            font-size: 14px;
        }

        .chatbot-input:focus {
            outline: none;
            border-color: #e50914;
        }

        .chatbot-send {
            width: 40px;
            height: 40px;
            background: #e50914;
            border: none;
            border-radius: 50%;
            color: #fff;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            transition: background 0.3s;
        }

        .chatbot-send:hover {
            background: #b00710;
        }

        .chatbot-send:disabled {
            background: #555;
            cursor: not-allowed;
        }

        .typing-indicator {
            display: flex;
            gap: 4px;
            padding: 12px 16px;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: #666;
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-10px);
            }
        }

        @media (max-width: 768px) {
            nav {
                padding: 15px 20px;
            }

            .hero {
                padding: 0 20px;
                height: 70vh;
            }

            .hero h1 {
                font-size: 32px;
            }

            .hero p {
                font-size: 16px;
            }

            .content-section {
                padding: 30px 20px;
            }

            .card {
                min-width: 240px;
            }

            .chatbot-container {
                width: 90%;
                right: 5%;
                height: 500px;
            }

            .chatbot-button {
                bottom: 20px;
                right: 20px;
            }
        }
    </style>
</head>
<body>
    <nav id="navbar">
        <div class="logo">PORTFOLIO</div>
        <div class="nav-links">
            <a onclick="showSection('home')">Home</a>
            <a onclick="showSection('projects')">Projects</a>
            <a onclick="showSection('resume')">Resume</a>
            <a onclick="showSection('contact')">Contact</a>
        </div>
    </nav>

    <div class="hero" id="home">
        <canvas class="hero-canvas" id="hero-canvas"></canvas>
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <h1>Welcome to My Portfolio</h1>
            <p>Full Stack Developer & Creative Problem Solver. Passionate about building amazing digital experiences.</p>
            <div class="hero-buttons">
                <button class="btn btn-primary" onclick="showSection('projects')">‚ñ∂ View Projects</button>
                <button class="btn btn-secondary" onclick="showSection('resume')">‚Ñπ More Info</button>
            </div>
        </div>
    </div>

    <div class="content-section active" id="projects-section">
        <div class="section-title">My Projects</div>
        
        <div class="row">
            <h2>Featured Projects</h2>
            <div class="cards-container">
                <div class="card">
                    <div class="card-accent">üöÄ</div>
                    <h3>E-Commerce Platform</h3>
                    <p>Full-stack shopping application with payment integration, user authentication, and admin dashboard.</p>
                </div>
                <div class="card">
                    <div class="card-accent">üì±</div>
                    <h3>Social Media App</h3>
                    <p>Real-time messaging and content sharing platform built with React and Node.js.</p>
                </div>
                <div class="card">
                    <div class="card-accent">üé®</div>
                    <h3>Portfolio Website</h3>
                    <p>Responsive portfolio design with modern animations and interactive elements.</p>
                </div>
                <div class="card">
                    <div class="card-accent">üîß</div>
                    <h3>Task Management Tool</h3>
                    <p>Collaborative project management application with drag-and-drop functionality.</p>
                </div>
            </div>
        </div>

        <div class="row">
            <h2>Web Applications</h2>
            <div class="cards-container">
                <div class="card">
                    <div class="card-accent">‚òÅÔ∏è</div>
                    <h3>Weather Dashboard</h3>
                    <p>Real-time weather tracking app using external APIs with beautiful UI.</p>
                </div>
                <div class="card">
                    <div class="card-accent">üí∞</div>
                    <h3>Expense Tracker</h3>
                    <p>Personal finance management tool with data visualization and budget planning.</p>
                </div>
                <div class="card">
                    <div class="card-accent">üìä</div>
                    <h3>Analytics Dashboard</h3>
                    <p>Data visualization platform with interactive charts and real-time updates.</p>
                </div>
            </div>
        </div>

        <div class="row">
            <h2>Mobile & Responsive</h2>
            <div class="cards-container">
                <div class="card">
                    <div class="card-accent">üéÆ</div>
                    <h3>Gaming Platform</h3>
                    <p>Multiplayer gaming interface with leaderboards and user profiles.</p>
                </div>
                <div class="card">
                    <div class="card-accent">üìö</div>
                    <h3>Learning Management</h3>
                    <p>Educational platform with course management and progress tracking.</p>
                </div>
                <div class="card">
                    <div class="card-accent">üéµ</div>
                    <h3>Music Streaming UI</h3>
                    <p>Modern music player interface with playlist creation and recommendations.</p>
                </div>
            </div>
        </div>
    </div>

    <div class="content-section" id="resume-section">
        <div class="section-title">My Resume</div>
        <div class="resume-content">
            <div class="resume-section">
                <h3>About Me</h3>
                <p>Passionate developer with 5+ years of experience in creating web applications. Specialized in modern JavaScript frameworks and cloud technologies.</p>
            </div>

            <div class="resume-section">
                <h3>Experience</h3>
                <div class="resume-item">
                    <h4>Senior Full Stack Developer</h4>
                    <p><strong>Tech Company Inc.</strong> | 2021 - Present</p>
                    <p>Led development of enterprise-level applications, mentored junior developers, and implemented best practices for code quality.</p>
                </div>
                <div class="resume-item">
                    <h4>Frontend Developer</h4>
                    <p><strong>Digital Agency</strong> | 2019 - 2021</p>
                    <p>Built responsive web applications for various clients, focusing on user experience and performance optimization.</p>
                </div>
            </div>

            <div class="resume-section">
                <h3>Education</h3>
                <div class="resume-item">
                    <h4>Bachelor of Science in Computer Science</h4>
                    <p><strong>University Name</strong> | 2015 - 2019</p>
                </div>
            </div>

            <div class="resume-section">
                <h3>Skills</h3>
                <p>JavaScript, React, Node.js, Python, MongoDB, PostgreSQL, AWS, Docker, Git, Agile Development</p>
            </div>
        </div>
    </div>

    <div class="content-section" id="contact-section">
        <div class="section-title">Get In Touch</div>
        <div class="contact-form">
            <form id="contact-form" onsubmit="handleContactSubmit(event)">
                <div class="form-group">
                    <label>Name</label>
                    <input type="text" id="contact-name" placeholder="Your name" required>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="contact-email" placeholder="your.email@example.com" required>
                </div>
                <div class="form-group">
                    <label>Message</label>
                    <textarea id="contact-message" placeholder="Tell me about your project..." required></textarea>
                </div>
                <button type="submit" class="btn btn-primary" id="contact-submit-btn">Send Message</button>
                <div id="contact-status" style="margin-top: 15px; font-size: 14px;"></div>
            </form>
        </div>
        <div style="margin-top: 30px;">
            <p><strong>Email:</strong> your.email@example.com</p>
            <p><strong>LinkedIn:</strong> linkedin.com/in/yourprofile</p>
            <p><strong>GitHub:</strong> github.com/yourusername</p>
        </div>
    </div>

    <!-- Chatbot -->
    <button class="chatbot-button" onclick="toggleChatbot()">üí¨</button>
    
    <div class="chatbot-container" id="chatbot">
        <div class="chatbot-header">
            <canvas class="chatbot-canvas" id="chatbot-canvas"></canvas>
            <div class="chatbot-header-content">
                <div class="chatbot-title">Chat with Me</div>
                <button class="chatbot-close" onclick="toggleChatbot()">√ó</button>
            </div>
        </div>
        <div class="chatbot-messages" id="chatbot-messages">
            <div class="message bot">
                <div class="message-avatar">ü§ñ</div>
                <div class="message-content">
                    Hi! I'm your portfolio assistant. I can help you learn more about my work, skills, or connect you with me. How can I help you today?
                </div>
            </div>
        </div>
        <div class="chatbot-input-container">
            <input 
                type="text" 
                class="chatbot-input" 
                id="chatbot-input" 
                placeholder="Type your message..."
                onkeypress="handleChatKeyPress(event)"
            >
            <button class="chatbot-send" onclick="sendMessage()" id="send-btn">‚û§</button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        // Three.js Background Animation for Hero
        const canvas = document.getElementById('hero-canvas');
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, canvas.clientWidth / canvas.clientHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true, antialias: true });
        
        renderer.setSize(canvas.clientWidth, canvas.clientHeight);
        renderer.setPixelRatio(window.devicePixelRatio);

        // Create particles
        const particlesGeometry = new THREE.BufferGeometry();
        const particlesCount = 3000;
        const posArray = new Float32Array(particlesCount * 3);

        for(let i = 0; i < particlesCount * 3; i++) {
            posArray[i] = (Math.random() - 0.5) * 100;
        }

        particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));

        const particlesMaterial = new THREE.PointsMaterial({
            size: 0.15,
            color: 0xe50914,
            transparent: true,
            opacity: 0.8,
            blending: THREE.AdditiveBlending
        });

        const particlesMesh = new THREE.Points(particlesGeometry, particlesMaterial);
        scene.add(particlesMesh);

        camera.position.z = 30;

        // Animation
        let mouseX = 0;
        let mouseY = 0;
        let targetX = 0;
        let targetY = 0;

        document.addEventListener('mousemove', (e) => {
            targetX = (e.clientX / window.innerWidth) * 2 - 1;
            targetY = -(e.clientY / window.innerHeight) * 2 + 1;
        });

        function animate() {
            requestAnimationFrame(animate);
            
            // Smooth mouse follow
            mouseX += (targetX - mouseX) * 0.05;
            mouseY += (targetY - mouseY) * 0.05;
            
            particlesMesh.rotation.x += 0.0005;
            particlesMesh.rotation.y += 0.0008;
            
            // Enhanced mouse interaction with position offset
            particlesMesh.rotation.x += mouseY * 0.003;
            particlesMesh.rotation.y += mouseX * 0.003;
            
            // Move particles based on mouse position
            particlesMesh.position.x = mouseX * 2;
            particlesMesh.position.y = mouseY * 2;

            renderer.render(scene, camera);
        }

        animate();

        // Handle resize
        window.addEventListener('resize', () => {
            const hero = document.getElementById('home');
            camera.aspect = hero.clientWidth / hero.clientHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(hero.clientWidth, hero.clientHeight);
        });

        // Three.js Background for Chatbot Header
        function initChatbotCanvas() {
            const chatCanvas = document.getElementById('chatbot-canvas');
            const chatScene = new THREE.Scene();
            const chatCamera = new THREE.PerspectiveCamera(75, chatCanvas.clientWidth / chatCanvas.clientHeight, 0.1, 1000);
            const chatRenderer = new THREE.WebGLRenderer({ canvas: chatCanvas, alpha: true, antialias: true });
            
            chatRenderer.setSize(chatCanvas.clientWidth, chatCanvas.clientHeight);
            chatRenderer.setPixelRatio(window.devicePixelRatio);

            const chatParticlesGeometry = new THREE.BufferGeometry();
            const chatParticlesCount = 500;
            const chatPosArray = new Float32Array(chatParticlesCount * 3);

            for(let i = 0; i < chatParticlesCount * 3; i++) {
                chatPosArray[i] = (Math.random() - 0.5) * 20;
            }

            chatParticlesGeometry.setAttribute('position', new THREE.BufferAttribute(chatPosArray, 3));

            const chatParticlesMaterial = new THREE.PointsMaterial({
                size: 0.1,
                color: 0xffffff,
                transparent: true,
                opacity: 0.6,
                blending: THREE.AdditiveBlending
            });

            const chatParticlesMesh = new THREE.Points(chatParticlesGeometry, chatParticlesMaterial);
            chatScene.add(chatParticlesMesh);

            chatCamera.position.z = 10;

            let chatMouseX = 0;
            let chatMouseY = 0;
            let chatTargetX = 0;
            let chatTargetY = 0;

            const chatbot = document.getElementById('chatbot');
            chatbot.addEventListener('mousemove', (e) => {
                const rect = chatbot.getBoundingClientRect();
                chatTargetX = ((e.clientX - rect.left) / rect.width) * 2 - 1;
                chatTargetY = -((e.clientY - rect.top) / rect.height) * 2 + 1;
            });

            function animateChatbot() {
                requestAnimationFrame(animateChatbot);
                
                // Smooth mouse follow
                chatMouseX += (chatTargetX - chatMouseX) * 0.05;
                chatMouseY += (chatTargetY - chatMouseY) * 0.05;
                
                chatParticlesMesh.rotation.x += 0.001;
                chatParticlesMesh.rotation.y += 0.002;
                
                // Mouse interaction
                chatParticlesMesh.rotation.x += chatMouseY * 0.002;
                chatParticlesMesh.rotation.y += chatMouseX * 0.002;
                chatParticlesMesh.position.x = chatMouseX * 1;
                chatParticlesMesh.position.y = chatMouseY * 1;
                
                chatRenderer.render(chatScene, chatCamera);
            }

            animateChatbot();
        }

        // Chatbot functionality
        let isChatbotOpen = false;

        function toggleChatbot() {
            const chatbot = document.getElementById('chatbot');
            isChatbotOpen = !isChatbotOpen;
            
            if (isChatbotOpen) {
                chatbot.classList.add('active');
                if (!chatbot.dataset.initialized) {
                    initChatbotCanvas();
                    chatbot.dataset.initialized = 'true';
                }
            } else {
                chatbot.classList.remove('active');
            }
        }

        function addMessage(content, isUser = false) {
            const messagesContainer = document.getElementById('chatbot-messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user' : 'bot'}`;
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = isUser ? 'üë§' : 'ü§ñ';
            
            const messageContent = document.createElement('div');
            messageContent.className = 'message-content';
            messageContent.textContent = content;
            
            if (isUser) {
                messageDiv.appendChild(messageContent);
                messageDiv.appendChild(avatar);
            } else {
                messageDiv.appendChild(avatar);
                messageDiv.appendChild(messageContent);
            }
            
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function showTypingIndicator() {
            const messagesContainer = document.getElementById('chatbot-messages');
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message bot';
            typingDiv.id = 'typing-indicator';
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = 'ü§ñ';
            
            const typingContent = document.createElement('div');
            typingContent.className = 'typing-indicator';
            typingContent.innerHTML = '<div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div>';
            
            typingDiv.appendChild(avatar);
            typingDiv.appendChild(typingContent);
            messagesContainer.appendChild(typingDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function removeTypingIndicator() {
            const typingIndicator = document.getElementById('typing-indicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        async function sendMessage() {
            const input = document.getElementById('chatbot-input');
            const sendBtn = document.getElementById('send-btn');
            const userMessage = input.value.trim();
            
            if (!userMessage) return;
            
            addMessage(userMessage, true);
            input.value = '';
            sendBtn.disabled = true;
            
            // Check for common patterns and provide instant responses
            const lowerMessage = userMessage.toLowerCase();
            
            // Simple greeting responses
            if (lowerMessage === 'hi' || lowerMessage === 'hello' || lowerMessage === 'hey') {
                setTimeout(() => {
                    removeTypingIndicator();
                    addMessage("Hey there! üëã I'm here to help you learn about this portfolio. What would you like to know - projects, skills, experience, or how to get in touch?");
                    sendBtn.disabled = false;
                }, 800);
                showTypingIndicator();
                return;
            }
            
            if (lowerMessage.includes('how are you') || lowerMessage === 'how are you?') {
                setTimeout(() => {
                    removeTypingIndicator();
                    addMessage("I'm doing great, thanks for asking! üòä I'm excited to tell you about this amazing portfolio. What would you like to explore?");
                    sendBtn.disabled = false;
                }, 800);
                showTypingIndicator();
                return;
            }
            
            if (lowerMessage.includes('thank') || lowerMessage.includes('thanks')) {
                setTimeout(() => {
                    removeTypingIndicator();
                    addMessage("You're very welcome! Feel free to ask me anything else about the portfolio, or check out the Contact page to get in touch directly. üòä");
                    sendBtn.disabled = false;
                }, 800);
                showTypingIndicator();
                return;
            }
            
            if (lowerMessage.includes('bye') || lowerMessage === 'goodbye') {
                setTimeout(() => {
                    removeTypingIndicator();
                    addMessage("Thanks for chatting! Don't forget to check out the projects and feel free to reach out through the Contact page. Have a great day! üëã");
                    sendBtn.disabled = false;
                }, 800);
                showTypingIndicator();
                return;
            }
            
            showTypingIndicator();
            
            try {
                const response = await fetch('https://api.anthropic.com/v1/messages', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        model: 'claude-sonnet-4-20250514',
                        max_tokens: 1000,
                        system: 'You are a friendly and helpful portfolio assistant chatbot for a web developer/designer. Your personality is warm, professional, and conversational.\n\nKEY INFORMATION TO SHARE:\n- Owner is a Full Stack Developer with 5+ years of experience\n- Specializes in React, Node.js, Python, MongoDB, PostgreSQL, AWS, Docker\n- Has worked on e-commerce platforms, social media apps, task management tools, and data visualization projects\n- Currently working as Senior Full Stack Developer at Tech Company Inc. since 2021\n- Previously worked as Frontend Developer at Digital Agency (2019-2021)\n- Has a Bachelor\'s degree in Computer Science\n- Available for freelance projects and consultations\n\nYOUR BEHAVIOR:\n1. Be conversational and friendly - greet users warmly, use their tone\n2. Answer questions about skills, projects, experience, and background\n3. If asked about specific projects, describe them enthusiastically with technical details\n4. For contact requests, guide users to the Contact page/form\n5. Handle casual conversation naturally (greetings, how are you, thanks, etc.)\n6. Keep responses concise (2-4 sentences) but informative\n7. Show personality - be encouraging and positive about the portfolio owner\'s work\n8. If you don\'t know something specific, be honest but helpful\n\nEXAMPLES:\n- "Hi" ‚Üí "Hey there! üëã I\'m here to help you learn about this portfolio. What would you like to know?"\n- "What skills?" ‚Üí "Great question! The main expertise includes React, Node.js, Python, and cloud technologies like AWS and Docker. There\'s also strong experience with databases like MongoDB and PostgreSQL. Want to know about any specific technology?"\n- "Tell me about projects" ‚Üí "There are some really cool projects here! From a full-stack e-commerce platform with payment integration to a real-time social media app. There\'s also a task management tool with drag-and-drop features. Which type of project interests you most?"\n- "How to contact?" ‚Üí "I\'d love to connect you! Just click on the \'Contact\' link in the navigation above, or I can guide you there. You\'ll find a contact form and all the ways to get in touch."',
                        messages: [
                            { role: 'user', content: userMessage }
                        ]
                    })
                });

                const data = await response.json();
                removeTypingIndicator();
                
                if (data.content && data.content[0]) {
                    const botResponse = data.content[0].text;
                    addMessage(botResponse);
                    
                    // Check if response mentions contact and offer to navigate
                    if (botResponse.toLowerCase().includes('contact') || 
                        botResponse.toLowerCase().includes('get in touch') ||
                        botResponse.toLowerCase().includes('reach out')) {
                        setTimeout(() => {
                            addMessage("Would you like me to take you to the contact page? Just say 'yes' or 'take me to contact' and I'll navigate you there! üöÄ");
                        }, 1000);
                    }
                } else {
                    addMessage("I'm having trouble responding right now. Please try again or use the contact form to reach out directly.");
                }
            } catch (error) {
                removeTypingIndicator();
                console.error('Chat error:', error);
                addMessage("I'm having trouble connecting right now. Please try the contact form or try again later.");
            }
            
            sendBtn.disabled = false;
        }

        function handleChatKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        // Check for navigation requests
        function checkForNavigation(message) {
            const lower = message.toLowerCase();
            if ((lower.includes('yes') || lower.includes('take me') || lower.includes('go to')) && 
                (lower.includes('contact') || lower.includes('there'))) {
                setTimeout(() => {
                    addMessage("Perfect! Taking you to the Contact page now... üöÄ");
                    setTimeout(() => {
                        toggleChatbot();
                        showSection('contact');
                    }, 1000);
                }, 500);
                return true;
            }
            return false;
        }

        // Override sendMessage to check for navigation
        const originalSendMessage = sendMessage;
        sendMessage = function() {
            const input = document.getElementById('chatbot-input');
            const userMessage = input.value.trim().toLowerCase();
            
            // Check if user wants to navigate before processing
            if (checkForNavigation(userMessage)) {
                const sendBtn = document.getElementById('send-btn');
                addMessage(input.value, true);
                input.value = '';
                return;
            }
            
            originalSendMessage();
        };

        // Contact Form Handler
        async function handleContactSubmit(event) {
            event.preventDefault();
            
            const submitBtn = document.getElementById('contact-submit-btn');
            const statusDiv = document.getElementById('contact-status');
            const name = document.getElementById('contact-name').value;
            const email = document.getElementById('contact-email').value;
            const message = document.getElementById('contact-message').value;
            
            // Disable button and show loading
            submitBtn.disabled = true;
            submitBtn.textContent = 'Sending...';
            statusDiv.textContent = '';
            statusDiv.style.color = '#fff';
            
            // OPTION 1: Web3Forms (No verification needed!)
            // Get your access key from: https://web3forms.com/
            const web3formsKey = 'YOUR_WEB3FORMS_ACCESS_KEY'; // Get free key from web3forms.com
            
            // OPTION 2: Your email for mailto fallback
            const yourEmail = 'YOUR_EMAIL_HERE@example.com';
            
            try {
                // Using Web3Forms API
                const response = await fetch('https://api.web3forms.com/submit', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify({
                        access_key: web3formsKey,
                        name: name,
                        email: email,
                        message: message,
                        subject: `New Portfolio Contact from ${name}`
                    })
                });
                
                const result = await response.json();
                
                if (result.success) {
                    statusDiv.style.color = '#4CAF50';
                    statusDiv.innerHTML = '‚úì Message sent successfully! I\'ll get back to you soon.';
                    document.getElementById('contact-form').reset();
                } else {
                    throw new Error(result.message || 'Failed to send');
                }
            } catch (error) {
                console.error('Contact form error:', error);
                
                // Fallback to mailto
                const subject = encodeURIComponent(`Portfolio Contact from ${name}`);
                const body = encodeURIComponent(
                    `Name: ${name}\n` +
                    `Email: ${email}\n` +
                    `Message:\n${message}\n\n` +
                    `---\nSent from Portfolio Contact Form`
                );
                const mailtoLink = `mailto:${yourEmail}?subject=${subject}&body=${body}`;
                
                statusDiv.style.color = '#ffa500';
                statusDiv.innerHTML = `
                    ‚ö†Ô∏è Using email client fallback.<br>
                    <a href="${mailtoLink}" style="color: #e50914; text-decoration: underline; cursor: pointer;">Click here to open your email client</a><br>
                    <small>Or email directly: ${yourEmail}</small>
                `;
            }
            
            // Re-enable button
            submitBtn.disabled = false;
            submitBtn.textContent = 'Send Message';
        }

        // Navbar scroll effect
        window.addEventListener('scroll', () => {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });

        // Section navigation
        function showSection(section) {
            const sections = ['projects-section', 'resume-section', 'contact-section'];
            const hero = document.getElementById('home');
            
            if (section === 'home') {
                hero.style.display = 'flex';
                sections.forEach(s => {
                    document.getElementById(s).classList.remove('active');
                });
            } else {
                hero.style.display = 'none';
                sections.forEach(s => {
                    const sectionId = section + '-section';
                    if (s === sectionId) {
                        document.getElementById(s).classList.add('active');
                    } else {
                        document.getElementById(s).classList.remove('active');
                    }
                });
            }
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>
</html>